<!DOCTYPE html>
<html lang="ja-jp">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>emakryo&#39;s blog  | 2020/04言語アップデート後のAtcoder Rust環境で使える便利Crates</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.80.0" />
    
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
    

    
    
      <link href="/dist/css/app.1cb140d8ba31d5b2f1114537dd04802a.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="2020/04言語アップデート後のAtcoder Rust環境で使える便利Crates" />
<meta property="og:description" content="久しぶりにブログというものを書きます。
ここ半年ぐらい競プロを再開したのとRustを使い始めたので、C&#43;&#43;から乗り換えようかと思って調べてみた内容をまとめました。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://emakryo.github.io/posts/updated-rust-on-atcoder/" />
<meta property="article:published_time" content="2020-04-13T00:00:00+09:00" />
<meta property="article:modified_time" content="2020-04-13T00:00:00+09:00" />
<meta itemprop="name" content="2020/04言語アップデート後のAtcoder Rust環境で使える便利Crates">
<meta itemprop="description" content="久しぶりにブログというものを書きます。
ここ半年ぐらい競プロを再開したのとRustを使い始めたので、C&#43;&#43;から乗り換えようかと思って調べてみた内容をまとめました。">
<meta itemprop="datePublished" content="2020-04-13T00:00:00+09:00" />
<meta itemprop="dateModified" content="2020-04-13T00:00:00+09:00" />
<meta itemprop="wordCount" content="3244">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="2020/04言語アップデート後のAtcoder Rust環境で使える便利Crates"/>
<meta name="twitter:description" content="久しぶりにブログというものを書きます。
ここ半年ぐらい競プロを再開したのとRustを使い始めたので、C&#43;&#43;から乗り換えようかと思って調べてみた内容をまとめました。"/>

      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-8K4KNS60G7', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

      
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-8K4KNS60G7"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-8K4KNS60G7');
      </script>
    

    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      renderMathInElement(
          document.body,
          {
              delimiters: [
                  {left: "$$", right: "$$", display: true},
                  {left: "\\[", right: "\\]", display: true},
                  {left: "$", right: "$", display: false},
                  {left: "\\(", right: "\\)", display: false}
              ]
          });
      });
    </script>
  </head>

  <body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://emakryo.github.io" class="f3 fw2 hover-white no-underline white-90 dib">
      emakryo&#39;s blog
    </a>
    <div class="flex-l items-center">
      

      
      




<a href="https://twitter.com/cruelturtle" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/%e8%ab%92%e4%ba%ae-%e4%ba%80%e6%be%a4-8503a1176/?locale=en_US" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/emakryo/emakryo.github.io" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>







    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      




  <div id="sharing" class="mt3">

    
    <a href="https://www.facebook.com/sharer.php?u=https://emakryo.github.io/posts/updated-rust-on-atcoder/" class="facebook no-underline" aria-label="share on Facebook">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M28.765,50.32h6.744V33.998h4.499l0.596-5.624h-5.095  l0.007-2.816c0-1.466,0.14-2.253,2.244-2.253h2.812V17.68h-4.5c-5.405,0-7.307,2.729-7.307,7.317v3.377h-3.369v5.625h3.369V50.32z   M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;"/></svg>

    </a>

    
    
    <a href="https://twitter.com/share?url=https://emakryo.github.io/posts/updated-rust-on-atcoder/&amp;text=2020/04%e8%a8%80%e8%aa%9e%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88%e5%be%8c%e3%81%aeAtcoder%20Rust%e7%92%b0%e5%a2%83%e3%81%a7%e4%bd%bf%e3%81%88%e3%82%8b%e4%be%bf%e5%88%a9Crates" class="twitter no-underline" aria-label="share on Twitter">
      <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

    </a>

    
    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://emakryo.github.io/posts/updated-rust-on-atcoder/&amp;title=2020/04%e8%a8%80%e8%aa%9e%e3%82%a2%e3%83%83%e3%83%97%e3%83%87%e3%83%bc%e3%83%88%e5%be%8c%e3%81%aeAtcoder%20Rust%e7%92%b0%e5%a2%83%e3%81%a7%e4%bd%bf%e3%81%88%e3%82%8b%e4%be%bf%e5%88%a9Crates" class="linkedin no-underline" aria-label="share on LinkedIn">
      <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

    </a>
  </div>

      <h1 class="f1 avenir mt3 mb1">2020/04言語アップデート後のAtcoder Rust環境で使える便利Crates</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-04-13T00:00:00&#43;09:00">April 13, 2020</time>

      
      
    </header>
    <div class="nested-copy-line-height lh-copy sans-serif f5 nested-links nested-img mid-gray pr4-l w-100-l"><p>久しぶりにブログというものを書きます。
ここ半年ぐらい競プロを再開したのとRustを使い始めたので、C++から乗り換えようかと思って調べてみた内容をまとめました。</p>
<hr>
<p>2020/4/12の<a href="https://atcoder.jp/contests/abc162">Atcoder Beginer Contest 162</a>で
Atcoderの実行環境がアップデートされました。
この記事では、新しいRust実行環境で利用可能になったcrateとその使い道を考えてみます。
筆者は普段、競技プログラミングではC++を使っているのでそれに比べてどうかという観点も含まれています。</p>
<p>読者の対象はRust以外を使っている競技プログラマを想定しているので個々のアルゴリズムやデータ構造の説明は省きます。
また、Rustの入門記事という訳でもないのである程度Rust自体のことも知っている想定です。</p>
<p>もしRustは全くわからないが始めてみよう、というのであればまず次のものを読むといいかと思います。</p>
<ul>
<li><a href="https://doc.rust-jp.rs/book/second-edition/ch03-00-common-programming-concepts.html">Rust book</a></li>
<li><a href="https://qiita.com/tubo28/items/e6076e9040da57368845">Rustで精選過去問10選</a></li>
</ul>
<h1 id="実行環境">実行環境</h1>
<p>ここの<a href="https://docs.google.com/spreadsheets/d/1PmsqufkF3wjKN6g1L0STS80yP4a6u-VdGiEv5uOHe0M/edit#gid=1059691052">スプレッドシート</a>
に記載があります。利用できるバージョンは1.42 (stable）で,
<code>Cargo.toml</code>に次のような依存クレートが書いてあると思っていいでしょう。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-toml" data-lang="toml">[<span style="color:#a6e22e">dependencies</span>]
<span style="color:#a6e22e">num</span> = <span style="color:#e6db74">&#34;=0.2.1&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">bigint</span> = <span style="color:#e6db74">&#34;=0.2.6&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">complex</span> = <span style="color:#e6db74">&#34;=0.2.4&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">integer</span> = <span style="color:#e6db74">&#34;=0.1.42&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">iter</span> = <span style="color:#e6db74">&#34;=0.1.40&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">rational</span> = <span style="color:#e6db74">&#34;=0.2.4&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">traits</span> = <span style="color:#e6db74">&#34;=0.2.11&#34;</span>
<span style="color:#a6e22e">num</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">derive</span> = <span style="color:#e6db74">&#34;=0.3.0&#34;</span>
<span style="color:#a6e22e">ndarray</span> = <span style="color:#e6db74">&#34;=0.13.0&#34;</span>
<span style="color:#a6e22e">nalgebra</span> = <span style="color:#e6db74">&#34;=0.20.0&#34;</span>
<span style="color:#a6e22e">alga</span> = <span style="color:#e6db74">&#34;=0.9.3&#34;</span>
<span style="color:#a6e22e">libm</span> = <span style="color:#e6db74">&#34;=0.2.1&#34;</span>
<span style="color:#a6e22e">rand</span> = { <span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;=0.7.3&#34;</span>, <span style="color:#a6e22e">features</span> = [<span style="color:#e6db74">&#34;small_rng&#34;</span>] }
<span style="color:#a6e22e">getrandom</span> = <span style="color:#e6db74">&#34;=0.1.14&#34;</span>
<span style="color:#a6e22e">rand_chacha</span> = <span style="color:#e6db74">&#34;=0.2.2&#34;</span>
<span style="color:#a6e22e">rand_core</span> = <span style="color:#e6db74">&#34;=0.5.1&#34;</span>
<span style="color:#a6e22e">rand_hc</span> = <span style="color:#e6db74">&#34;=0.2.0&#34;</span>
<span style="color:#a6e22e">rand_pcg</span> = <span style="color:#e6db74">&#34;=0.2.1&#34;</span>
<span style="color:#a6e22e">rand_distr</span> = <span style="color:#e6db74">&#34;=0.2.2&#34;</span>
<span style="color:#a6e22e">petgraph</span> = <span style="color:#e6db74">&#34;=0.5.0&#34;</span>
<span style="color:#a6e22e">indexmap</span> = <span style="color:#e6db74">&#34;=1.3.2&#34;</span>
<span style="color:#a6e22e">regex</span> = <span style="color:#e6db74">&#34;=1.3.6&#34;</span>
<span style="color:#a6e22e">lazy_static</span> = <span style="color:#e6db74">&#34;=1.4.0&#34;</span>
<span style="color:#a6e22e">ordered</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">float</span> = <span style="color:#e6db74">&#34;=1.0.2&#34;</span>
<span style="color:#a6e22e">ascii</span> = <span style="color:#e6db74">&#34;=1.0.0&#34;</span>
<span style="color:#a6e22e">permutohedron</span> = <span style="color:#e6db74">&#34;=0.2.4&#34;</span>
<span style="color:#a6e22e">superslice</span> = <span style="color:#e6db74">&#34;=1.0.0&#34;</span>
<span style="color:#a6e22e">itertools</span> = <span style="color:#e6db74">&#34;=0.9.0&#34;</span>
<span style="color:#a6e22e">itertools</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">num</span> = <span style="color:#e6db74">&#34;=0.1.3&#34;</span>
<span style="color:#a6e22e">maplit</span> = <span style="color:#e6db74">&#34;=1.0.2&#34;</span>
<span style="color:#a6e22e">either</span> = <span style="color:#e6db74">&#34;=1.5.3&#34;</span>
<span style="color:#a6e22e">im</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">rc</span> = <span style="color:#e6db74">&#34;=14.3.0&#34;</span>
<span style="color:#a6e22e">fixedbitset</span> = <span style="color:#e6db74">&#34;=0.2.0&#34;</span>
<span style="color:#a6e22e">bitset</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">fixed</span> = <span style="color:#e6db74">&#34;=0.1.0&#34;</span>,
<span style="color:#a6e22e">proconio</span> = { <span style="color:#a6e22e">version</span> = <span style="color:#e6db74">&#34;=0.3.6&#34;</span>, <span style="color:#a6e22e">features</span> = [<span style="color:#e6db74">&#34;derive&#34;</span>] }
<span style="color:#a6e22e">text_io</span> = <span style="color:#e6db74">&#34;=0.1.8&#34;</span>
<span style="color:#a6e22e">whiteread</span> = <span style="color:#e6db74">&#34;=0.5.0&#34;</span>
<span style="color:#a6e22e">rustc</span><span style="color:#960050;background-color:#1e0010">-</span><span style="color:#a6e22e">hash</span> = <span style="color:#e6db74">&#34;=1.1.0&#34;</span>
<span style="color:#a6e22e">smallvec</span> = <span style="color:#e6db74">&#34;=1.2.0&#34;</span>
</code></pre></div><p>ABCで利用用途のありそうな、次のcrateについてそれぞれ使い道を考えていきます。</p>
<ul>
<li><a href="https://rust-num.github.io/num/num/index.html">num</a></li>
<li><a href="https://docs.rs/rand/0.7.3/rand/">rand</a></li>
<li><a href="https://docs.rs/petgraph/0.5.0/petgraph/index.html">petgraph</a></li>
<li><a href="https://docs.rs/permutohedron/0.2.4/permutohedron/">permutohedron</a></li>
<li><a href="https://docs.rs/superslice/1.0.0/superslice/">superslice</a></li>
<li><a href="https://docs.rs/itertools/0.9.0/itertools/">itertools</a></li>
<li><a href="https://docs.rs/proconio/0.4.1/proconio/">proconio</a></li>
</ul>
<h1 id="num">num</h1>
<p><a href="https://rust-num.github.io/num/num/index.html">https://rust-num.github.io/num/num/index.html</a></p>
<p>num crateには数に関する便利な構造体や関数、primativeな数値型の満たすべきtraitなどが実装されています。
競技プログラミングで使う可能性があるのは以下のようなものでしょうか。</p>
<ul>
<li><code>num::BigInt</code></li>
<li><code>num::Complex</code></li>
<li><code>num::integer::{gcd, binomial}</code></li>
</ul>
<p><code>BigInt</code> (多倍長整数)はatcoderではなかなか使うことはないような印象がありますが使い方を覚えておいて損はないでしょう。
また <code>Complex</code> は二次元幾何の問題で使うと実装が楽になることが多いのでこれも覚えておくと良さそうです。
いずれも基本的な演算は実装されています。
<code>binomial</code>は大抵modと組み合わせて使うことが多いのでこれを直接使うことは多くはなさそうですが、簡単な問題では使いどころがありそうです。
<code>gcd</code>も自分で実装しても大した実装量ではないですが、任意の整数型で使えるので覚えておくと少し楽ができるかもしれません。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> num::BigInt;
<span style="color:#66d9ef">use</span> num::Complex;
<span style="color:#66d9ef">use</span> num::integer::{binomial, gcd};
<span style="color:#66d9ef">use</span> std::<span style="color:#66d9ef">f64</span>::consts::PI;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> big_int: <span style="color:#a6e22e">BigInt</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1.</span>into();
    <span style="color:#66d9ef">for</span> n <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">1</span>..<span style="color:#ae81ff">100</span> {
        big_int <span style="color:#f92672">*=</span> n;
    }
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, big_int);
    <span style="color:#75715e">//933262154439441526816992388562667004907159682643816214685929638952175999932299156089414639761565182862536979208272237582511852109168640000000000000000000000 
</span><span style="color:#75715e"></span>
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> x <span style="color:#f92672">=</span> Complex::new(<span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">1.0</span>);
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> y <span style="color:#f92672">=</span> Complex::new(<span style="color:#f92672">-</span><span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">2.0</span>);

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, x <span style="color:#f92672">+</span> y); <span style="color:#75715e">// 0+3i
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, x <span style="color:#f92672">*</span> y); <span style="color:#75715e">// -3+1i
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, x.norm());
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, y <span style="color:#f92672">*</span> Complex::new(<span style="color:#ae81ff">0.0</span>, <span style="color:#ae81ff">1.5</span><span style="color:#f92672">*</span>PI).exp()); <span style="color:#75715e">// rotate 1.5 PI
</span><span style="color:#75715e"></span>
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, binomial(<span style="color:#ae81ff">20</span><span style="color:#66d9ef">u64</span>, <span style="color:#ae81ff">8</span>));
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, gcd(<span style="color:#ae81ff">276943533807</span><span style="color:#66d9ef">i64</span> <span style="color:#ae81ff">115</span><span style="color:#66d9ef">i64</span>));
}
</code></pre></div><h1 id="rand">rand</h1>
<p><a href="https://docs.rs/rand/0.7.3/rand/">https://docs.rs/rand/0.7.3/rand/</a></p>
<p>乱数生成器の実装です。一番よく使うのは一様分布からのサンプリングでしょうか。
<code>[0, 1)</code> からの<code>f64</code>のサンプリングは簡単です。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> rand::random;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">for</span> _ <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span>..<span style="color:#ae81ff">10</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, random::<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">f64</span><span style="color:#f92672">&gt;</span>());
    }
}
</code></pre></div><p>整数区間<code>[a, b)</code>からの一様分布のサンプリングはもちろんライブラリを使ってもいいですが、<code>f64</code>の値から計算する方が楽かもしれないです。
ライブラリを使った例は下のようになります。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> rand::{Rng, SeedableRng};
<span style="color:#66d9ef">use</span> rand::distributions::{Distribution, Uniform};

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> between <span style="color:#f92672">=</span> Uniform::from(<span style="color:#ae81ff">10</span>..<span style="color:#ae81ff">1000</span>);
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> rng <span style="color:#f92672">=</span> rand::rngs::SmallRng::from_entropy();
    <span style="color:#66d9ef">for</span> _ <span style="color:#66d9ef">in</span> <span style="color:#ae81ff">0</span>..<span style="color:#ae81ff">10</span> {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, between.sample(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> rng));
    }
}
</code></pre></div><p>上の例で出てくる<code>SmallRng</code>はデフォルトで使われる乱数生成アルゴリズムより高速なため、
速度的に不十分な場合は検討しても良いかもしれません。
（ABCではそんな状況はほぼないと思いますが）</p>
<h1 id="petgraph">petgraph</h1>
<p><a href="https://docs.rs/petgraph/0.5.0/petgraph/">https://docs.rs/petgraph/0.5.0/petgraph/</a></p>
<p>グラフとグラフアルゴリズムが実装されています。
普通は自作ライブラリや毎回手書きするようなアルゴリズムもあるので慣れれば便利かもしれません。
競技プログラミングでよく使うのは次のようなものでしょうか。</p>
<ul>
<li><code>petgraph::graph::{Graph, UnGraph, DiGraph}</code> (隣接リスト、有向、無向)</li>
<li><code>petgraph::matrix_graph::MatirxGraph</code> (隣接行列)</li>
<li><code>petgraph::algo::connected_components</code></li>
<li><code>petgraph::algo::tarjan_scc</code> (強連結成分分解)</li>
<li><code>petgraph::algo::dijkstra</code></li>
<li><code>petgraph::algo::bellman_ford</code></li>
<li><code>petgraph::algo::toposort</code></li>
<li><code>petgraph::algo::min_spanning_tree</code> (Kruskal&rsquo;s algorithm)</li>
<li><code>petgraph::unionfind::UnionFind</code></li>
</ul>
<p>最小全域木を例にして書いてみます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> petgraph::graph::UnGraph;
<span style="color:#66d9ef">use</span> petgraph::algo::min_spanning_tree;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> g: <span style="color:#a6e22e">UnGraph</span><span style="color:#f92672">&lt;</span><span style="color:#66d9ef">u32</span>, <span style="color:#66d9ef">u32</span><span style="color:#f92672">&gt;</span> <span style="color:#f92672">=</span> UnGraph::new_undirected();
    <span style="color:#75715e">// Example
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 0 - 1 - 2 - 3 - 4
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//      \ /   /
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//       6 - 5 
</span><span style="color:#75715e"></span>    g.extend_with_edges(<span style="color:#f92672">&amp;</span>[
        (<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>), (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>), (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>), (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>),
        (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>), (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>), (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>),
    ]);

    <span style="color:#66d9ef">let</span> min_span <span style="color:#f92672">=</span> min_spanning_tree(<span style="color:#f92672">&amp;</span>g);
    <span style="color:#66d9ef">for</span> x <span style="color:#66d9ef">in</span> min_span {
        println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, x);
    }

    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Node { weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Edge { source: 0, target: 1, weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Edge { source: 2, target: 3, weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Edge { source: 2, target: 6, weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Edge { source: 1, target: 6, weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Edge { source: 5, target: 6, weight: 0 }
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// Edge { source: 3, target: 4, weight: 0 }
</span><span style="color:#75715e"></span>
    <span style="color:#75715e">// Resulting graph
</span><span style="color:#75715e"></span>    <span style="color:#75715e">// 0 - 1 - 2 - 3 - 4
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//      \
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//       6 - 5
</span><span style="color:#75715e"></span>
}
</code></pre></div><h1 id="permutohidron">permutohidron</h1>
<p>順列生成のアリゴリズムの実装です。次のように使うことができます。
<a href="https://ja.wikipedia.org/wiki/Heap%E3%81%AE%E3%82%A2%E3%83%AB%E3%82%B4%E3%83%AA%E3%82%BA%E3%83%A0">ヒープアルゴリズム</a>を使うので高速に動作します。
後述しますが、機能的には上位互換のものが<code>itertools</code>にあるので、速度的な懸念がなければそちらを使った方がいいのかもしれません。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> permutohedron::heap_recursive;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> <span style="color:#66d9ef">mut</span> x <span style="color:#f92672">=</span> vec<span style="color:#f92672">!</span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>];
 
     heap_recursive(<span style="color:#f92672">&amp;</span><span style="color:#66d9ef">mut</span> x, <span style="color:#f92672">|</span>p<span style="color:#f92672">|</span> {
         println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, p);
     });
 
<span style="color:#75715e">// [0, 1, 2, 3]
</span><span style="color:#75715e">// [1, 0, 2, 3]
</span><span style="color:#75715e">// [2, 0, 1, 3]
</span><span style="color:#75715e">// [0, 2, 1, 3]
</span><span style="color:#75715e">// [1, 2, 0, 3]
</span><span style="color:#75715e">// [2, 1, 0, 3]
</span><span style="color:#75715e">// [3, 1, 0, 2]
</span><span style="color:#75715e">// [1, 3, 0, 2]
</span><span style="color:#75715e">// [0, 3, 1, 2]
</span><span style="color:#75715e">// [3, 0, 1, 2]
</span><span style="color:#75715e">// [1, 0, 3, 2]
</span><span style="color:#75715e">// [0, 1, 3, 2]
</span><span style="color:#75715e">// [0, 2, 3, 1]
</span><span style="color:#75715e">// [2, 0, 3, 1]
</span><span style="color:#75715e">// [3, 0, 2, 1]
</span><span style="color:#75715e">// [0, 3, 2, 1]
</span><span style="color:#75715e">// [2, 3, 0, 1]
</span><span style="color:#75715e">// [3, 2, 0, 1]
</span><span style="color:#75715e">// [3, 2, 1, 0]
</span><span style="color:#75715e">// [2, 3, 1, 0]
</span><span style="color:#75715e">// [1, 3, 2, 0]
</span><span style="color:#75715e">// [3, 1, 2, 0]
</span><span style="color:#75715e">// [2, 1, 3, 0]
</span><span style="color:#75715e">// [1, 2, 3, 0]
</span><span style="color:#75715e"></span>
}
</code></pre></div><h1 id="superslice">superslice</h1>
<p>二分探索が実装されています。<code>std::slice</code>にも<code>binary_search()</code>はありますが、
目的の要素が複数含まれる場合はいずれか一つのインデックスが返されるという使いづらい仕様のため、
C++の<code>lower_bound()</code>や<code>upper_bound()</code>に慣れている人は同じインターフェースのこちらの方が使いやすいかもしれません。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> superslice::<span style="color:#f92672">*</span>;
 
<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> b <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>];
 
    assert_eq<span style="color:#f92672">!</span>(b.lower_bound(<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>), <span style="color:#ae81ff">0</span>);
    assert_eq<span style="color:#f92672">!</span>(b.upper_bound(<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>), <span style="color:#ae81ff">1</span>);
    assert_eq<span style="color:#f92672">!</span>(b.equal_range(<span style="color:#f92672">&amp;</span><span style="color:#ae81ff">3</span>), <span style="color:#ae81ff">1</span>..<span style="color:#ae81ff">2</span>);
}
</code></pre></div><h1 id="itertools">itertools</h1>
<p>itertoolsではiteratorに関する便利なメソッドが色々提供されています。
競技プログラミングで特に便利そうと思ったのは以下のメソッドです。</p>
<ul>
<li><code>.dedup()</code> : 連続する重複した要素を取り除く</li>
<li><code>.unique()</code> : 重複した要素を取り除く</li>
<li><code>.combinations(usize)</code> : 指定した個数の組み合わせのiteratorを返す</li>
<li><code>.combinations_with_replacement(usize)</code> : 指定した個数の重複組み合わせのiteratorを返す</li>
<li><code>.permutations(usize)</code> : 指定した個数の順列のiteratorを返す</li>
<li><code>.join(&amp;str)</code> : 区切り文字を要素間に挟んだStringを返す</li>
<li><code>.format(&amp;str)</code>: 区切り文字を要素間に挟んだFormatを返す</li>
</ul>
<p>それぞれ例を書いてみます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> itertools::Itertools;

<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    <span style="color:#66d9ef">let</span> x <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>];
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, x.iter().dedup().collect::<span style="color:#f92672">&lt;</span>Vec<span style="color:#f92672">&lt;</span>_<span style="color:#f92672">&gt;&gt;</span>()); <span style="color:#75715e">// [1, 2, 3, 2, 1]
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, x.iter().unique().collect::<span style="color:#f92672">&lt;</span>Vec<span style="color:#f92672">&lt;</span>_<span style="color:#f92672">&gt;&gt;</span>()); <span style="color:#75715e">// [1, 2, 3]
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">let</span> y <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;a&#34;</span>, <span style="color:#e6db74">&#34;b&#34;</span>, <span style="color:#e6db74">&#34;c&#34;</span>];
    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, y.iter().combinations(<span style="color:#ae81ff">2</span>).collect::<span style="color:#f92672">&lt;</span>Vec<span style="color:#f92672">&lt;</span>_<span style="color:#f92672">&gt;&gt;</span>()); <span style="color:#75715e">// [[&#34;a&#34;, &#34;b&#34;], [&#34;a&#34;, &#34;c&#34;], [&#34;b&#34;, &#34;c&#34;]]
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, y.iter().combinations_with_replacement(<span style="color:#ae81ff">2</span>).collect::<span style="color:#f92672">&lt;</span>Vec<span style="color:#f92672">&lt;</span>_<span style="color:#f92672">&gt;&gt;</span>());
    <span style="color:#75715e">// [[&#34;a&#34;, &#34;a&#34;], [&#34;a&#34;, &#34;b&#34;], [&#34;a&#34;, &#34;c&#34;], [&#34;b&#34;, &#34;b&#34;], [&#34;b&#34;, &#34;c&#34;], [&#34;c&#34;, &#34;c&#34;]]
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, y.iter().permutations(<span style="color:#ae81ff">2</span>).collect::<span style="color:#f92672">&lt;</span>Vec<span style="color:#f92672">&lt;</span>_<span style="color:#f92672">&gt;&gt;</span>());
    <span style="color:#75715e">// [[&#34;a&#34;, &#34;b&#34;], [&#34;a&#34;, &#34;c&#34;], [&#34;b&#34;, &#34;a&#34;], [&#34;b&#34;, &#34;c&#34;], [&#34;c&#34;, &#34;a&#34;], [&#34;c&#34;, &#34;b&#34;]]
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, y.iter().join(<span style="color:#e6db74">&#34;-&#34;</span>)); <span style="color:#75715e">// &#34;a-b-c&#34;
</span><span style="color:#75715e"></span>    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{}&#34;</span>, x.iter().format(<span style="color:#e6db74">&#34;^&#34;</span>)); <span style="color:#75715e">// 1^1^2^3^2^2^1
</span><span style="color:#75715e"></span>}
</code></pre></div><h1 id="proconio">proconio</h1>
<p>入力データのパースが簡単になるライブラリです。c++のiostreamに慣れてしまうと他の言語での入力をパースするコードは冗長に感じてしまいますが、
<code>proconio::input!</code>マクロを使うとかなり簡単に入力をパースすることができます。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-rust" data-lang="rust"><span style="color:#66d9ef">use</span> proconio::input;

<span style="color:#75715e">// input
</span><span style="color:#75715e">// ------
</span><span style="color:#75715e">// 5 3
</span><span style="color:#75715e">// 0 1 x
</span><span style="color:#75715e">// 1 2 y
</span><span style="color:#75715e">// 0 4 foo
</span><span style="color:#75715e"></span>
<span style="color:#66d9ef">fn</span> <span style="color:#a6e22e">main</span>() {
    input<span style="color:#f92672">!</span> {
        n: <span style="color:#66d9ef">usize</span>,
        m: <span style="color:#66d9ef">usize</span>,
        xs: [(<span style="color:#66d9ef">usize</span>, <span style="color:#66d9ef">usize</span>, String); m],
    }

    println<span style="color:#f92672">!</span>(<span style="color:#e6db74">&#34;{:?}&#34;</span>, <span style="color:#f92672">&amp;</span>xs[m<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]); <span style="color:#75715e">// (0, 4, &#34;foo&#34;)
</span><span style="color:#75715e"></span>}
</code></pre></div><h1 id="その他">その他</h1>
<p>あまり利用用途は多くないですが特定の問題では役に立ちそうなcrateも簡単に紹介します。</p>
<ul>
<li>ndarray: 多次元配列の実装です。</li>
<li>nalgebra: 低次元の線形代数ライブラリで6次元程度までの線形変換や行列分解などが実装されています。</li>
<li>indexmap: 挿入順が保存されるハッシュテーブル<code>IndexMap</code>の実装です。<code>std::collection::HashMap</code>と同じようなAPIを持っています。
挿入順が保存される集合<code>IndexSet</code>もあります。</li>
<li>ordered_float: rustの浮動小数点数は<code>Ord</code> (<code>PartialOrd</code>) traitを満たしていないので、
そのような値が期待されるようなgenericな関数と組み合わせて使うことができません。
<code>Ord</code>を要求する関数を浮動小数点数に対して使いたい時には<code>order_float::OrderedFloat&lt;f64&gt;</code> が利用できます。</li>
</ul>
<h1 id="まとめ">まとめ</h1>
<p>今回の言語アップデート後のrustで利用可能なcrateをいくつか紹介してきました。
今まではバージョンも古く、stdしか使えない環境で競技プログラミングをするには自作ライブラリを揃えないとなかなか難しいと感じていましたが、
今回紹介したようなcrateは使いこなせば実装量が減り、バグらせにくいコードを書くことができると思うのでぜひマスターしたいところです。</p>
<p>他にも定数倍高速化やコード長の削減、抽象化に役立ちそうなcrateもいくつかあるので興味がある人は調べてみても良いかもしれません。</p><ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://emakryo.github.io" >
    &copy;  emakryo's blog 2021 
  </a>
    <div>




<a href="https://twitter.com/cruelturtle" target="_blank" class="link-transition twitter link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel="noopener" aria-label="follow on Twitter——Opens in a new window">
  <svg height="32px"  style="enable-background:new 0 0 67 67;" version="1.1" viewBox="0 0 67 67" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167,22.283c-2.619,0.953-4.274,3.411-4.086,6.101  l0.063,1.038l-1.048-0.127c-3.813-0.487-7.145-2.139-9.974-4.915l-1.383-1.377l-0.356,1.017c-0.754,2.267-0.272,4.661,1.299,6.271  c0.838,0.89,0.649,1.017-0.796,0.487c-0.503-0.169-0.943-0.296-0.985-0.233c-0.146,0.149,0.356,2.076,0.754,2.839  c0.545,1.06,1.655,2.097,2.871,2.712l1.027,0.487l-1.215,0.021c-1.173,0-1.215,0.021-1.089,0.467  c0.419,1.377,2.074,2.839,3.918,3.475l1.299,0.444l-1.131,0.678c-1.676,0.976-3.646,1.526-5.616,1.568  C19.775,43.256,19,43.341,19,43.405c0,0.211,2.557,1.397,4.044,1.864c4.463,1.377,9.765,0.783,13.746-1.568  c2.829-1.673,5.657-5,6.978-8.221c0.713-1.716,1.425-4.851,1.425-6.354c0-0.975,0.063-1.102,1.236-2.267  c0.692-0.678,1.341-1.419,1.467-1.631c0.21-0.403,0.188-0.403-0.88-0.043c-1.781,0.636-2.033,0.551-1.152-0.402  c0.649-0.678,1.425-1.907,1.425-2.267c0-0.063-0.314,0.042-0.671,0.233c-0.377,0.212-1.215,0.53-1.844,0.72l-1.131,0.361l-1.027-0.7  c-0.566-0.381-1.361-0.805-1.781-0.932C39.766,21.902,38.131,21.944,37.167,22.283z M33,64C16.432,64,3,50.569,3,34S16.432,4,33,4  s30,13.431,30,30S49.568,64,33,64z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/></svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>




<a href="https://www.linkedin.com/in/%e8%ab%92%e4%ba%ae-%e4%ba%80%e6%be%a4-8503a1176/?locale=en_US" target="_blank" class="link-transition linkedin link dib z-999 pt3 pt0-l mr1" title="LinkedIn link" rel="noopener" aria-label="follow on LinkedIn——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 65 65;" version="1.1" viewBox="0 0 65 65" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <path d="M50.837,48.137V36.425c0-6.275-3.35-9.195-7.816-9.195  c-3.604,0-5.219,1.983-6.119,3.374V27.71h-6.79c0.09,1.917,0,20.427,0,20.427h6.79V36.729c0-0.609,0.044-1.219,0.224-1.655  c0.49-1.22,1.607-2.483,3.482-2.483c2.458,0,3.44,1.873,3.44,4.618v10.929H50.837z M22.959,24.922c2.367,0,3.842-1.57,3.842-3.531  c-0.044-2.003-1.475-3.528-3.797-3.528s-3.841,1.524-3.841,3.528c0,1.961,1.474,3.531,3.753,3.531H22.959z M34,64  C17.432,64,4,50.568,4,34C4,17.431,17.432,4,34,4s30,13.431,30,30C64,50.568,50.568,64,34,64z M26.354,48.137V27.71h-6.789v20.427  H26.354z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://github.com/emakryo/emakryo.github.io" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>






</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
